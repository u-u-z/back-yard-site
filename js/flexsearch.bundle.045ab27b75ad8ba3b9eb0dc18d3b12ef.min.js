(function et(o){'use strict';try{module&&(o=module)}catch(e){}o._factory=et;function v(e){return"undefined"==typeof e||e}function V(t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e();return n}function e(){return Object.create(null)}function ec(e,t){return t.length-e.length}function s(e){return"string"==typeof e}function i(e){return"object"==typeof e}function _(e){return"function"==typeof e}function B(e,n){var t=er;if(e&&(n&&(e=p(e,n)),this.H&&(e=p(e,this.H)),this.J&&1<e.length&&(e=p(e,this.J)),t||""===t)){if(e=e.split(t),this.filter){n=this.filter,t=e.length;const s=[];for(let o=0,a=0;o<t;o++){const i=e[o];i&&!n[i]&&(s[a++]=i)}e=s}return e}return e}const er=/[\p{Z}\p{S}\p{P}\p{C}]+/u,es=/[\u0300-\u036f]/g;function H(a,o){const i=Object.keys(a),r=i.length,e=[];let t="",s=0;for(let l=0,c,d;l<r;l++)c=i[l],(d=a[c])?(e[s++]=n(o?"(?!\\b)"+c+"(\\b|_)":c),e[s++]=d):t+=(t?"|":"")+c;return t&&(e[s++]=n(o?"(?!\\b)("+t+")(\\b|_)":"("+t+")"),e[s]=""),e}function p(e,t){for(let n=0,s=t.length;n<s&&(e=e.replace(t[n],t[n+1]),e);n+=2);return e}function n(e){return new RegExp(e,"g")}function T(e){let t="",n="";for(let s=0,i=e.length,o;s<i;s++)(o=e[s])!==n&&(t+=n=o);return t}var t,ee={encode:P,F:!1,G:""},Y,Q,q,eo;function P(e){return B.call(this,(""+e).toLowerCase(),!1)}const N={},r={};function F(e){h(e,"add"),h(e,"append"),h(e,"search"),h(e,"update"),h(e,"remove")}function h(t,e){t[e+"Async"]=function(){const s=this,t=arguments;var n=t[t.length-1];let o;return _(n)&&(o=n,delete t[t.length-1]),n=new Promise(function(n){setTimeout(function(){s.async=!0;const o=s[e].apply(s,t);s.async=!1,n(o)})}),o?(n.then(o),this):n}}function M(c,l,o,t){const r=c.length;let s=[],n,a,i=0;t&&(t=[]);for(let d=r-1;0<=d;d--){const h=c[d],f=h.length,u=e();let m=!n;for(let e=0;e<f;e++){const c=h[e],p=c.length;if(p)for(let f=0,h,e;f<p;f++)if(e=c[f],n){{if(n[e]){if(!d)if(o)o--;else if(s[i++]=e,i===l)return s;(d||t)&&(u[e]=1),m=!0}if(t&&(a[e]=(h=a[e])?++h:h=1,h<r)){const n=t[h-2]||(t[h-2]=[]);n[n.length]=e}}}else u[e]=1}if(t)n||(a=u);else if(!m)return[];n=u}if(t)for(let e=t.length-1,a,r;0<=e;e--){a=t[e],r=a.length;for(let t=0,e;t<r;t++)if(e=a[t],!n[e]){if(o)o--;else if(s[i++]=e,i===l)return s;n[e]=1}}return s}function el(n,s){const o=e(),i=e(),t=[];for(let e=0;e<n.length;e++)o[n[e]]=1;for(let e=0,n;e<s.length;e++){n=s[e];for(let s=0,e;s<n.length;s++)e=n[s],o[e]&&!i[e]&&(i[e]=1,t[t.length]=e)}return t}function b(t){this.l=!0!==t&&t,this.cache=e(),this.h=[]}function E(e,n,s){i(e)&&(e=e.query);let t=this.cache.get(e);return t||(t=this.search(e,n,s),this.cache.set(e,t)),t}b.prototype.set=function(t,n){if(!this.cache[t]){var e=this.h.length;e===this.l?delete this.cache[this.h[e-1]]:e++;for(--e;0<e;e--)this.h[e]=this.h[e-1];this.h[0]=t}this.cache[t]=n},b.prototype.get=function(e){const t=this.cache[e];if(this.l&&t&&(e=this.h.indexOf(e))){const t=this.h[e-1];this.h[e-1]=this.h[e],this.h[e]=t}return t};const J={memory:{charset:"latin:extra",D:3,B:4,m:!1},performance:{D:3,B:3,s:!1,context:{depth:2,D:1}},match:{charset:"latin:extra",G:"reverse"},score:{charset:"latin:advanced",D:20,B:3,context:{depth:3,D:9}},default:{}};function A(t,e,n,s,o,i){setTimeout(function(){const a=t(n,JSON.stringify(i));a&&a.then?a.then(function(){e.export(t,e,n,s,o+1)}):e.export(t,e,n,s,o+1)})}function a(t,i){if(!(this instanceof a))return new a(t);if(t){s(t)?t=J[t]:(n=t.preset)&&(t=Object.assign({},n[n],t)),n=t.charset;var n,o=t.lang;s(n)&&(-1===n.indexOf(":")&&(n+=":default"),n=r[n]),s(o)&&(o=N[o])}else t={};let c,l,d=t.context||{};if(this.encode=t.encode||n&&n.encode||P,this.register=i||e(),this.D=c=t.resolution||9,this.G=i=n&&n.G||t.tokenize||"strict",this.depth="strict"===i&&d.depth,this.l=v(d.bidirectional),this.s=l=v(t.optimize),this.m=v(t.fastupdate),this.B=t.minlength||1,this.C=t.boost,this.map=l?V(c):e(),this.A=c=d.resolution||1,this.h=l?V(c):e(),this.F=n&&n.F||t.rtl,this.H=(i=t.matcher||o&&o.H)&&H(i,!1),this.J=(i=t.stemmer||o&&o.J)&&H(i,!0),n=i=t.filter||o&&o.filter){n=i,o=e();for(let e=0,t=n.length;e<t;e++)o[n[e]]=1;n=o}this.filter=n,this.cache=(i=t.cache)&&new b(i)}t=a.prototype,t.append=function(e,t){return this.add(e,t,!0)},t.add=function(a,r,l,i){if(r&&(a||0===a)){if(!i&&!l&&this.register[a])return this.update(a,r);if(r=this.encode(r),i=r.length){const p=e(),d=e(),m=this.depth,h=this.D;for(let v=0;v<i;v++){let g=r[this.F?i-1-v:v];if(s=g.length,g&&s>=this.B&&(m||!d[g])){var s,n=f(h,i,v),o="",t,c;switch(this.G){case"full":if(3<s){for(n=0;n<s;n++)for(t=s;t>n;t--)t-n>=this.B&&(c=f(h,i,v,s,n),o=g.substring(n,t),u(this,d,o,c,a,l));break}case"reverse":if(2<s){for(t=s-1;0<t;t--)o=g[t]+o,o.length>=this.B&&u(this,d,o,f(h,i,v,s,t),a,l);o=""}case"forward":if(1<s){for(t=0;t<s;t++)o+=g[t],o.length>=this.B&&u(this,d,o,n,a,l);break}default:if(this.C&&(n=Math.min(n/this.C(r,g,v)|0,h-1)),u(this,d,g,n,a,l),m&&1<i&&v<i-1)for(s=e(),o=this.A,n=g,t=Math.min(m+1,i-v),s[n]=1,c=1;c<t;c++)if((g=r[this.F?i-1-v-c:v+c])&&g.length>=this.B&&!s[g]){s[g]=1;const e=this.l&&g>n;u(this,p,e?n:g,f(o+(i/2>o?0:1),i,v,t-1,c-1),a,l,e?g:n)}}}}this.m||(this.register[a]=1)}}return this};function f(e,n,t,s,o){return t&&1<e?n+(s||0)<=e?t+(o||0):(e-1)/(n+(s||0))*(t+(o||0))+1|0:0}function u(n,i,s,r,a,c,o){let t=o?n.h:n.map;(!i[s]||o&&!i[s][o])&&(n.s&&(t=t[r]),o?(i=i[s]||(i[s]=e()),i[o]=1,t=t[o]||(t[o]=e())):i[s]=1,t=t[s]||(t[s]=[]),n.s||(t=t[r]||(t[r]=[])),c&&-1!==t.indexOf(a)||(t[t.length]=a,n.m&&(n=n.register[a]||(n.register[a]=[]),n[n.length]=t)))}t.search=function(n,o,t){t||(!o&&i(n)?(t=n,n=t.query):i(o)&&(t=o));let a=[],s,r,l=0;if(t){o=t.limit,l=t.offset||0;var c=t.context,d;r=t.suggest}if(n&&(n=this.encode(n),s=n.length,1<s)){t=e(),d=[];for(let o=0,i=0,e;o<s;o++)if((e=n[o])&&e.length>=this.B&&!t[e])if(this.s||r||this.map[e])d[i++]=e,t[e]=1;else return a;n=d,s=n.length}if(!s)return a;o||(o=100),c=this.depth&&1<s&&!1!==c,t=0;let u;c?(u=n[0],t=1):1<s&&n.sort(ec);for(let e,i;t<s;t++){if(i=n[t],c?(e=S(this,a,r,o,l,2===s,i,u),r&&!1===e&&a.length||(u=i)):e=S(this,a,r,o,l,1===s,i),e)return e;if(r&&t===s-1){if(d=a.length,!d){if(c){c=0,t=-1;continue}return a}if(1===d)return z(a[0],o,l)}}return M(a,o,l,r)};function S(e,r,l,c,n,i,a,s){let o=[],t=s?e.h:e.map;if(e.s||(t=D(t,a,s,e.l)),t){let l=0;const d=Math.min(t.length,s?e.A:e.D);for(let u=0,m=0,r,h;u<d;u++)if(r=t[u])if(e.s&&(r=D(r,a,s,e.l)),n&&r&&i&&(h=r.length,h<=n?(n-=h,r=null):(r=r.slice(n),n=0)),r&&(o[l++]=r,i&&(m+=r.length,m>=c)))break;if(l){if(i)return z(o,c,0);r[r.length]=o;return}}return!l&&o}function z(e,n,t){return e=1===e.length?e[0]:[].concat.apply([],e),t||e.length>n?e.slice(t,t+n):e}function D(e,t,n,s){return n?(s=s&&t>n,e=(e=e[s?t:n])&&e[s?n:t]):e=e[t],e}t.contain=function(e){return!!this.register[e]},t.update=function(e,t){return this.remove(e).add(e,t)},t.remove=function(t,e){const n=this.register[t];if(n){if(this.m)for(let e=0,s;e<n.length;e++)s=n[e],s.splice(s.indexOf(t),1);else j(this.map,t,this.D,this.s),this.depth&&j(this.h,t,this.A,this.s);if(e||delete this.register[t],this.cache){e=this.cache;for(let n=0,o,s;n<e.h.length;n++)s=e.h[n],o=e.cache[s],-1!==o.indexOf(t)&&(e.h.splice(n--,1),delete e.cache[s])}}return this};function j(e,t,o,i,s){let n=0;if(e.constructor===Array){if(s)t=e.indexOf(t),-1!==t?1<e.length&&(e.splice(t,1),n++):n++;else{s=Math.min(e.length,o);for(let a=0,r;a<s;a++)(r=e[a])&&(n=j(r,t,o,i,s),i||n||delete e[a])}}else for(let a in e)(n=j(e[a],t,o,i,s))||delete e[a];return n}t.searchCache=E,t.export=function(r,i,o,a,s){let n,t;switch(s||(s=0)){case 0:if(n="reg",this.m){t=e();for(let e in this.register)t[e]=1}else t=this.register;break;case 1:n="cfg",t={doc:0,opt:this.s?1:0};break;case 2:n="map",t=this.map;break;case 3:n="ctx",t=this.h;break;default:return}return A(r,i||this,o?o+"."+n:n,a,s,t),!0},t.import=function(t,e){if(e)switch(s(e)&&(e=JSON.parse(e)),t){case"cfg":this.s=!!e.opt;break;case"reg":this.m=!1,this.register=e;break;case"map":this.map=e;break;case"ctx":this.h=e}},F(a.prototype);function X(e){e=e.data;var n=o._index,t;const s=e.args;switch(t=e.task,t){case"init":t=e.options||{},e=e.factory,n=t.encode,t.cache=!1,n&&0===n.indexOf("function")&&(t.encode=Function("return "+n)()),e?(Function("return "+e)()(o),o._index=new o.FlexSearch.Index(t),delete o.FlexSearch):o._index=new a(t);break;default:e=e.id,n=n[t].apply(n,s),postMessage("search"===t?{id:e,msg:n}:{id:e})}}let R=0;function c(t){if(!(this instanceof c))return new c(t);var n;t?_(n=t.encode)&&(t.encode=n.toString()):t={},(n=(o||window)._factory)&&(n=n.toString());const i=o.exports,s=this;this.o=U(n,i,t.worker),this.h=e(),this.o&&(i?this.o.on("message",function(e){s.h[e.id](e.msg),delete s.h[e.id]}):this.o.onmessage=function(e){e=e.data,s.h[e.id](e.msg),delete s.h[e.id]},this.o.postMessage({task:"init",factory:n,options:t}))}l("add"),l("append"),l("search"),l("update"),l("remove");function l(e){c.prototype[e]=c.prototype[e+"Async"]=function(){const o=this,t=[].slice.call(arguments);var n=t[t.length-1];let s;return _(n)&&(s=n,t.splice(t.length-1,1)),n=new Promise(function(n){setTimeout(function(){o.h[++R]=n,o.o.postMessage({task:e,id:R,args:t})})}),s?(n.then(s),this):n}}function U(n,o,e){let t;try{t=o?eval('new (require("worker_threads")["Worker"])("../dist/node/node.js")'):n?new Worker(URL.createObjectURL(new Blob(["onmessage="+X.toString()],{type:"text/javascript"}))):new Worker(s(e)?e:"worker/worker.js",{type:"module"})}catch(e){}return t}function d(t){if(!(this instanceof d))return new d(t);var o=t.document||t.doc||t,n;this.K=[],this.h=[],this.A=[],this.register=e(),this.key=(n=o.key||o.id)&&g(n,this.A)||"id",this.m=v(t.fastupdate),this.C=(n=o.store)&&!0!==n&&[],this.store=n&&e(),this.I=(n=o.tag)&&g(n,this.A),this.l=n&&e(),this.cache=(n=t.cache)&&new b(n),t.cache=!1,this.o=t.worker,this.async=!1,n=e();let r=o.index||o.field||o;s(r)&&(r=[r]);for(let l=0,e,o;l<r.length;l++)e=r[l],s(e)||(o=e,e=e.field),o=i(o)?Object.assign({},t,o):t,this.o&&(n[e]=new c(o),n[e].o||(this.o=!1)),this.o||(n[e]=new a(o,this.register)),this.K[l]=g(e,this.A),this.h[l]=e;if(this.C)for(t=o.store,s(t)&&(t=[t]),o=0;o<t.length;o++)this.C[o]=g(t[o],this.A);this.index=n}function g(e,s){const t=e.split(":");let n=0;for(let o=0;o<t.length;o++)e=t[o],0<=e.indexOf("[]")&&(e=e.substring(0,e.length-2))&&(s[n]=!0),e&&(t[n++]=e);return n<t.length&&(t.length=n),1<n?t:t[0]}function C(e,t){if(s(t))e=e[t];else for(let n=0;e&&n<t.length;n++)e=e[t[n]];return e}function w(n,s,o,i,t){if(n=n[t],i===o.length-1)s[t]=n;else if(n)if(n.constructor===Array)for(s=s[t]=Array(n.length),t=0;t<n.length;t++)w(n,s,o,i,t);else s=s[t]||(s[t]=e()),t=o[++i],w(n,s,o,i,t)}function x(e,t,a,s,o,i,n,r){if(e=e[n])if(s===t.length-1){if(e.constructor===Array){if(a[s]){for(t=0;t<e.length;t++)o.add(i,e[t],!0,!0);return}e=e.join(" ")}o.add(i,e,r,!0)}else if(e.constructor===Array)for(n=0;n<e.length;n++)x(e,t,a,s,o,i,n,r);else n=t[++s],x(e,t,a,s,o,i,n,r)}t=d.prototype,t.add=function(t,n,o){if(i(t)&&(n=t,t=C(n,this.key)),n&&(t||0===t)){if(!o&&this.register[t])return this.update(t,n);for(let i=0,e,a;i<this.h.length;i++)a=this.h[i],e=this.K[i],s(e)&&(e=[e]),x(n,e,this.A,0,this.index[a],t,e[0],o);if(this.I){let i=C(n,this.I),a=e();s(i)&&(i=[i]);for(let s=0,e,n;s<i.length;s++)if(e=i[s],!a[e]&&(a[e]=1,n=this.l[e]||(this.l[e]=[]),!o||-1===n.indexOf(t)))if(n[n.length]=t,this.m){const e=this.register[t]||(this.register[t]=[]);e[e.length]=n}}if(this.store&&(!o||!this.store[t])){let o;if(this.C){o=e();for(let t=0,e;t<this.C.length;t++)e=this.C[t],s(e)?o[e]=n[e]:w(n,o,e,0,e[0])}this.store[t]=o||n}}return this},t.append=function(e,t){return this.add(e,t,!0)},t.update=function(e,t){return this.remove(e).add(e,t)},t.remove=function(e){if(i(e)&&(e=C(e,this.key)),this.register[e]){for(var t=0;t<this.h.length&&(this.index[this.h[t]].remove(e,!this.o),!this.m);t++);if(this.I&&!this.m)for(let n in this.l){t=this.l[n];const s=t.indexOf(e);-1!==s&&(1<t.length?t.splice(s,1):delete this.l[n])}this.store&&delete this.store[e],delete this.register[e]}return this},t.search=function(c,n,e,p){e||(!n&&i(c)?(e=c,c=e.query):i(n)&&(e=n,n=0));let a=[],m=[],h,d,o,t,r,f,l=0;if(e)if(e.constructor===Array)o=e,e=null;else{if(o=(h=e.pluck)||e.index||e.field,t=e.tag,d=this.store&&e.enrich,r="and"===e.bool,n=e.limit||100,f=e.offset||0,t&&(s(t)&&(t=[t]),!c)){for(let e=0,s;e<t.length;e++)(s=K.call(this,t[e],n,f,d))&&(a[a.length]=s,l++);return l?a:[]}s(o)&&(o=[o])}o||(o=this.h),r=r&&(1<o.length||t&&1<t.length);const u=!p&&(this.o||this.async)&&[];for(let h=0,i,d,g;h<o.length;h++){let v;if(d=o[h],s(d)||(v=d,d=d.field),u)u[h]=this.index[d].searchAsync(c,n,v||e);else{if(p?i=p[h]:i=this.index[d].search(c,n,v||e),g=i&&i.length,t&&g){const e=[];let s=0;r&&(e[0]=[i]);for(let o=0,i,n;o<t.length;o++)(i=t[o],g=(n=this.l[i])&&n.length)&&(s++,e[e.length]=r?[n]:n);s&&(i=r?M(e,n||100,f||0):el(i,e),g=i.length)}if(g)m[l]=d,a[l++]=i;else if(r)return[]}}if(u){const t=this;return new Promise(function(s){Promise.all(u).then(function(o){s(t.search(c,n,e,o))})})}if(!l)return[];if(h&&(!d||!this.store))return a[0];for(let t=0,e;t<m.length;t++){if(e=a[t],e.length&&d&&(e=W.call(this,e)),h)return e;a[t]={field:m[t],result:e}}return a};function K(s,o,t,i){let e=this.l[s],n=e&&e.length-t;if(n&&0<n)return(n>o||t)&&(e=e.slice(t,t+o)),i&&(e=W.call(this,e)),{tag:s,result:e}}function W(e){const t=Array(e.length);for(let n=0,s;n<e.length;n++)s=e[n],t[n]={id:s,doc:this.store[s]};return t}t.contain=function(e){return!!this.register[e]},t.get=function(e){return this.store[e]},t.set=function(e,t){return this.store[e]=t,this},t.searchCache=E,t.export=function(s,n,o,e,t){if(t||(t=0),e||(e=0),e<this.h.length){const o=this.h[e],i=this.index[o];n=this,setTimeout(function(){i.export(s,n,t?o.replace(":","-"):"",e,t++)||(e++,t=1,n.export(s,n,o,e,t))})}else{let n;switch(t){case 1:o="tag",n=this.l;break;case 2:o="store",n=this.store;break;default:return}A(s,this,o,e,t,n)}},t.import=function(t,e){if(e)switch(s(e)&&(e=JSON.parse(e)),t){case"tag":this.l=e;break;case"reg":this.m=!1,this.register=e;for(let t=0,n;t<this.h.length;t++)n=this.index[this.h[t]],n.register=e,n.m=!1;break;case"store":this.store=e;break;default:t=t.split(".");const n=t[0];t=t[1],n&&t&&this.index[n].import(t,e)}},F(d.prototype),Y={encode:L,F:!1,G:""};const G=[n("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),"a",n("[\u00e8\u00e9\u00ea\u00eb]"),"e",n("[\u00ec\u00ed\u00ee\u00ef]"),"i",n("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),"o",n("[\u00f9\u00fa\u00fb\u00fc\u0171]"),"u",n("[\u00fd\u0177\u00ff]"),"y",n("\u00f1"),"n",n("[\u00e7c]"),"k",n("\u00df"),"s",n(" & ")," and "];function L(t){var e=t;return e.normalize&&(e=e.normalize("NFD").replace(es,"")),B.call(this,e.toLowerCase(),!t.normalize&&G)}Q={encode:$,F:!1,G:"strict"};const Z=/[^a-z0-9]+/,k={b:"p",v:"f",w:"f",z:"s",x:"s","\u00df":"s",d:"t",n:"m",c:"k",g:"k",j:"k",q:"k",i:"e",y:"e",u:"o"};function $(e){e=L.call(this,e).join(" ");const t=[];if(e){const n=e.split(Z),s=n.length;for(let i=0,o,a=0;i<s;i++)if((e=n[i])&&(!this.filter||!this.filter[e])){o=e[0];let n=k[o]||o,s=n;for(let i=1;i<e.length;i++){o=e[i];const t=k[o]||o;t&&t!==s&&(n+=t,s=t)}t[a++]=n}}return t}q={encode:I,F:!1,G:""};const en=[n("ae"),"a",n("oe"),"o",n("sh"),"s",n("th"),"t",n("ph"),"f",n("pf"),"f",n("(?![aeo])h(?![aeo])"),"",n("(?!^[aeo])h(?!^[aeo])"),""];function I(e,t){return e&&(e=$.call(this,e).join(" "),2<e.length&&(e=p(e,en)),t||(1<e.length&&(e=T(e)),e&&(e=e.split(" ")))),e}eo={encode:ea,F:!1,G:""};const ei=n("(?!\\b)[aeo]");function ea(e){return e&&(e=I.call(this,e,!0),1<e.length&&(e=e.replace(ei,"")),1<e.length&&(e=T(e)),e&&(e=e.split(" "))),e}r["latin:default"]=ee,r["latin:simple"]=Y,r["latin:balance"]=Q,r["latin:advanced"]=q,r["latin:extra"]=eo;const m=o;let O;const y={Index:a,Document:d,Worker:c,registerCharset:function(e,t){r[e]=t},registerLanguage:function(e,t){N[e]=t}};(O=m.define)&&O.amd?O([],function(){return y}):m.exports?m.exports=y:m.FlexSearch=y})(this)